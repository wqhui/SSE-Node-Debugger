# SSE 调试工具

## 简介
这是一个用于调试和测试 Server-Sent Events (SSE) 请求的工具。它支持通过命令行输入配置 SSE 请求的 URL、请求头和请求体，并可以缓存上次的配置，以便用户快速重新运行请求。此外，它还允许手动停止 SSE 连接，或重新运行上次的请求。

## 安装与使用

### 1. 安装依赖

首先，确保你已经安装了 Node.js。然后，克隆或下载项目，并在项目根目录中运行以下命令来安装所需的依赖：

```bash
npm install
```

### 2. 运行程序

安装完依赖后，运行以下命令启动工具：
```bash
node index.js
```


### 3. 输入配置

程序会提示你输入 SSE 请求的相关配置，包括：

- SSE 请求的 URL
- 请求头（JSON 格式）
- 请求体（JSON 格式）

你可以选择是否使用上次缓存的数据，若选择使用，则程序会自动填充相应的数据。

### 4. 控制 SSE 请求

- 输入 `r` 重新运行上次的 SSE 请求
- 输入 `stop` 停止当前的 SSE 请求

### 5. 配置缓存

工具会在本地保存上次的配置（URL、Headers、Body），存储在 `sse-cache.json` 文件中。这样，你可以轻松地重新运行之前的请求，而无需每次都重新输入配置信息。

## 代码解析

- **事件管理器 (EventEmitter)**：用于监听和触发事件，比如 SSE 请求的消息、结束或错误事件。
- **命令行交互 (readline)**：用于获取用户输入，便于配置和控制 SSE 请求。
- **SSE 请求 (`startSSE`)**：通过 `axios` 发送 SSE 请求，并处理数据流中的消息。
- **缓存机制**：通过读取和保存 `sse-cache.json` 文件来存储和恢复上次的配置。

## 注意事项

- 请求头和请求体必须是有效的 JSON 格式，如果输入无效，将会出现错误并退出程序。
- 若上次的 SSE 请求未结束，你可以通过 `stop` 指令手动停止连接。
- `r` 命令会重新运行上次的 SSE 请求。

## 示例

```
欢迎使用 SSE 调试工具！ 
请输入 SSE URL: https://example.com/sse 
请输入请求头 (JSON 格式，默认为空): {"Authorization": "Bearer token"} 
请输入请求体 (JSON 格式，默认为空): {"key": "value"}

[SSE 消息] 数据流中的消息 [信息] SSE 连接已关闭，输入 r 重新运行上次 SSE 请求
```